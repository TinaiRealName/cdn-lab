<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDN Lab - GitHub Pages</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="logo.svg" alt="CDN Lab Logo" class="logo">
            <h1>üöÄ CDN Lab —Å GitHub Pages</h1>
            <p class="subtitle">–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã CDN —á–µ—Ä–µ–∑ GitHub Pages + Cloudflare</p>
        </div>

        <div class="info-card">
            <h2>üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏</h2>
            <div class="info-grid">
                <div class="info-item">
                    <span class="label">–ú–µ—Ç–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏:</span>
                    <span class="value">GitHub Pages CDN</span>
                </div>
                <div class="info-item">
                    <span class="label">CDN Provider:</span>
                    <span class="value">Fastly ‚úÖ</span>
                </div>
                <div class="info-item">
                    <span class="label">SSL/TLS:</span>
                    <span class="value">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π</span>
                </div>
                <div class="info-item">
                    <span class="label">–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:</span>
                    <span class="value">–ê–∫—Ç–∏–≤–Ω–æ</span>
                </div>
            </div>
        </div>

        <div class="endpoints-card">
            <h2>üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</h2>
            <ul class="endpoints-list">
                <li><code>index.html</code> - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</li>
                <li><code>style.css</code> - –°—Ç–∏–ª–∏ (–∫—ç—à–∏—Ä—É–µ–º—ã–µ)</li>
                <li><code>image.svg</code> - SVG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–∫—ç—à–∏—Ä—É–µ–º–æ–µ)</li>
                <li><code>logo.svg</code> - –õ–æ–≥–æ—Ç–∏–ø</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>üß™ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
            <div class="button-group">
                <button onclick="testCache()" class="btn btn-primary">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞</button>
                <button onclick="testPerformance()" class="btn btn-secondary">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</button>
                <button onclick="testHeaders()" class="btn btn-info">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤</button>
            </div>
            <div id="results" class="results-box"></div>
        </div>

        <div class="image-section">
            <h2>üñºÔ∏è –¢–µ—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–∫—ç—à–∏—Ä—É–µ–º–æ–µ)</h2>
            <img src="image.svg" alt="Test SVG" class="test-image">
        </div>

        <footer class="footer">
            <p>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ CDN | GitHub Pages Edition</p>
            <p class="timestamp">–í–µ—Ä—Å–∏—è: 1.0</p>
        </footer>
    </div>

    <script>
        async function testCache() {
            const results = document.getElementById('results');
            results.innerHTML = '<p class="loading">‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞...</p>';
            
            try {
                const response = await fetch('style.css', { cache: 'reload' });
                const cacheControl = response.headers.get('cache-control') || 'N/A';
                const age = response.headers.get('age') || 'N/A';
                const etag = response.headers.get('etag') || 'N/A';
                
                results.innerHTML = '<div class="result-success">' +
                    '<h3>‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—ç—à–µ</h3>' +
                    '<p><strong>Cache-Control:</strong> <code>' + cacheControl + '</code></p>' +
                    '<p><strong>Age:</strong> ' + age + 's</p>' +
                    '<p><strong>ETag:</strong> <code>' + etag + '</code></p>' +
                    '<p class="hint">üí° –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ Age</p>' +
                    '</div>';
            } catch (e) {
                results.innerHTML = '<div class="result-error">‚ùå –û—à–∏–±–∫–∞: ' + e.message + '</div>';
            }
        }

        async function testPerformance() {
            const results = document.getElementById('results');
            results.innerHTML = '<p class="loading">‚è≥ –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏...</p>';
            
            const tests = [
                { name: '–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞', url: 'index.html' },
                { name: 'CSS (–∫—ç—à–∏—Ä—É–µ–º—ã–π)', url: 'style.css' },
                { name: 'SVG (–∫—ç—à–∏—Ä—É–µ–º—ã–π)', url: 'image.svg' },
                { name: '–õ–æ–≥–æ—Ç–∏–ø', url: 'logo.svg' }
            ];
            
            let html = '<div class="result-success"><h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤</h3><table>';
            
            for (const test of tests) {
                const start = performance.now();
                await fetch(test.url);
                const duration = (performance.now() - start).toFixed(2);
                html += '<tr><td>' + test.name + '</td><td><strong>' + duration + 'ms</strong></td></tr>';
            }
            
            html += '</table></div>';
            results.innerHTML = html;
        }

        async function testHeaders() {
            const results = document.getElementById('results');
            results.innerHTML = '<p class="loading">‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤...</p>';
            
            try {
                const response = await fetch('style.css');
                const headers = {};
                response.headers.forEach((value, key) => {
                    headers[key] = value;
                });
                
                let html = '<div class="result-success"><h3>üìã HTTP –ó–∞–≥–æ–ª–æ–≤–∫–∏</h3><table>';
                for (const [key, value] of Object.entries(headers)) {
                    html += '<tr><td><strong>' + key + ':</strong></td><td>' + value + '</td></tr>';
                }
                html += '</table></div>';
                results.innerHTML = html;
            } catch (e) {
                results.innerHTML = '<div class="result-error">‚ùå –û—à–∏–±–∫–∞: ' + e.message + '</div>';
            }
        }
    </script>
</body>
</html>